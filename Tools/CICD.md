## CI/CD
CI/CD 通常指 continuous integration 和 continuous dlivery 或 continuous deployment 的组合实践。CI/CD 通过在应用程序的构建、测试和部署中实施自动化，在开发和运营团队之间架起了桥梁。

### 1. 原始方式
一般的 SPA 应用，本质是静态资源。所以以前通用的做法是：
1. 在本地 build 项目，并压缩得到的资源文件。
2. 通过 SCP 将压缩包上传到远程服务器。
3. ssh 登录远程服务器，解压上传的文件。
4. 配置 nginx 代理。

### 2. 配合 git
之后前端有了自己的工具链，为了在发布前对代码健壮性和功能完整性进行验证，在发布流程中加入了单元测试和代码扫描。这时要完成一个完整的前端项目发布闭环，需要完成的操作：
1. 代码扫描，检查是否规范（eslint）。
2. 本地跑单元测试检查结果。
3. push 代码到远程仓库。
4. 登录远程服务器，pull 代码，build 项目。
5. 配置 nginx 代理。

每次发布都需要手动发包，不断重复机械化的工作，效率慢且难以保证每次每个步骤都不会疏忽。

### 3. 配合 CICD
**continuous intetration（持续集成）**： 强调开发人员提交了新代码之后，自动对代码进行测试和构建，反馈运行结果（提MR之后，进过检查、测试，判断是否可以合并到主分支）。

**continuous delivery（持续交付）**：在持续集成的基础上，将集成后的代码部署到更贴近真是运行环境中（如 Staging 环境）进行更多的测试。若代码没有问题，则之后手动部署到生成环境（部署是自动化的，但需要手动触发）。

**continuous development（持续部署）**：持续交付的更高阶段，所有通过了自动化测试的改动都自动部署到生产环境。使用持续部署时，应该是提交了的代码（若是没有构建失败）做出的修改在几分钟后能够直接出现在用户面前。持续部署主要基于业务需求，如一种业务需要等待另外的功能才能上线，则不能使用持续部署。

集成、交付和部署是软件开发到发布流程中的不同阶段，这里的持续是相对于过去的流程：所有人写好代码之后再进行合并，然后再进行测试，最后发布。过去的流程会将风险堆到软件发布前的最后阶段。而持续的概念就是，做一点就马上递交给下一个流程，这样能够尽早地发现并解决问题。

参考：
- [前端工程化之CICD那点破事](https://juejin.cn/post/6870325047324573710)
- [如何理解持续集成、持续交付、持续部署](https://www.zhihu.com/question/23444990)

## PR 和 MR
区别：
- PR 一般在 github, MR 一般在 gitlab
- PR 一般需要先 fork 目标仓库到自己的账号下，在进行开发
- clone, add, commit, push 操作二者基本相同（PR 的 clone 一般需要加上对应的 remote）
- push 之后，fork 的仓库需要仓库需要发起 pull request

知乎上看到，PR 可以理解为：我改了你们的代码，你们拉回去看看吧！！！

PR 的一个特殊的场景是，可以给自己没有权限的代码仓库提交分支合并请求（对一般开源项目，没有仓库权限，无法直接 push, 也无法在原始的开源项目中创建分支），这也会是 fork 的作用。如果是自己的仓库，那么 PR 和 MR 差别不大。

参考： 
- [Github 标准 Fork & Pull Request 流程](https://aaronflower.github.io/essays/github-fork-pull-workflow.html)
- [PR 和 MR 的关联](https://zhuanlan.zhihu.com/p/463588556)


